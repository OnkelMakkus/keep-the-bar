[gd_scene load_steps=6 format=3 uid="uid://fd8f2qfa1plr"]

[ext_resource type="Script" uid="uid://tvqqvo8n7l5v" path="res://Project/Player/player.gd" id="1_v0iea"]
[ext_resource type="Script" uid="uid://dmxishhfbrros" path="res://Project/Player/PlayerMovement.gd" id="3_1tpvl"]
[ext_resource type="Script" uid="uid://bv8lvnneyftkv" path="res://Project/Player/PlayerAim.gd" id="4_hruf4"]
[ext_resource type="Script" uid="uid://dr725lk6bjhq2" path="res://Project/Player/PlayerInteraction.gd" id="5_bqdc2"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_acmnh"]
radius = 0.35
height = 1.8

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("movement", "aim", "interaction", "head", "camera", "hand_slot") groups=["Player"]]
top_level = true
collision_layer = 4
collision_mask = 9
script = ExtResource("1_v0iea")
movement = NodePath("Movement")
aim = NodePath("Aim")
interaction = NodePath("Interaction")
head = NodePath("Head")
camera = NodePath("Head/Camera3D")
hand_slot = NodePath("Head/HandSlot")

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6, 0)

[node name="Camera3D" type="Camera3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.280513)

[node name="HandSlot" type="Node3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2, 0, -1.6)

[node name="RayCast3D_Down" type="RayCast3D" parent="Head/HandSlot"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, -0.68451107)
target_position = Vector3(0, 0, -4)
collision_mask = 11

[node name="RayCast3D_Front" type="RayCast3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.004697621, -0.73316514)
target_position = Vector3(0, 0, -3)
collision_mask = 10
hit_from_inside = true
collide_with_areas = true

[node name="SpotLight3D" type="SpotLight3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.280513)
light_color = Color(0.6147954, 0.9999998, 0.9992109, 1)
light_energy = 20.0
light_indirect_energy = 2.0
light_size = 1.0
light_specular = 0.0
shadow_enabled = true
spot_range = 100.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_acmnh")

[node name="Movement" type="Node" parent="." node_paths=PackedStringArray("player", "head", "camera", "raycast_down", "flashlight")]
script = ExtResource("3_1tpvl")
player = NodePath("..")
head = NodePath("../Head")
camera = NodePath("../Head/Camera3D")
raycast_down = NodePath("../Head/HandSlot/RayCast3D_Down")
flashlight = NodePath("../Head/SpotLight3D")

[node name="Aim" type="Node" parent="." node_paths=PackedStringArray("ray_front")]
script = ExtResource("4_hruf4")
ray_front = NodePath("../Head/RayCast3D_Front")

[node name="Interaction" type="Node" parent="." node_paths=PackedStringArray("player", "head", "camera", "hand_slot", "aim")]
script = ExtResource("5_bqdc2")
player = NodePath("..")
head = NodePath("../Head")
camera = NodePath("../Head/Camera3D")
hand_slot = NodePath("../Head/HandSlot")
aim = NodePath("../Aim")
